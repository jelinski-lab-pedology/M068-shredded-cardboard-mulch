soil_vwc_post <- soil_vwc %>%
subset(sample_date > "2023-06-23")
hist(soil_vwc_post$vwc_percent)
out_vwc <- subset(soil_vwc_post, vwc_percent > 50)
View(out_vwc)
hist(soil_vwc$vwc_percent)
out_vwc <- subset(soil_vwc, vwc_percent > 50)
View(out_vwc)
soil_temp <- read.csv(here::here("00-data", "b-prepared",
"20250530_SCM-soil-temp.csv"),
header = TRUE)
soil_vwc <- read.csv(here::here("00-data", "b-prepared",
"20250712_SCM-soil-moisture.csv"),
header = TRUE)
soil_temp <- read.csv(here::here("00-data", "b-prepared",
"20250530_SCM-soil-temp.csv"),
header = TRUE)
soil_vwc <- read.csv(here::here("00-data", "b-prepared",
"20250712_SCM-soil-moisture.csv"),
header = TRUE)
soil_vwc_rt <- read.csv(here::here("00-data", "b-prepared",
"20250530_SCM-real time moisture-2023.csv"),
header = TRUE)
drip_irrigation <- read.csv(here::here("00-data", "b-prepared",
"20250618_SCM-irrigation.csv"), header = TRUE)
temp_precip <- read.csv(here::here("00-data", "b-prepared",
"20250618_temp and precip.csv"), header = TRUE)
soil_temp <- soil_temp %>%
dplyr::select('ID', 'block','plot', 'treatment',
'crop', 'date.time', 'temp_C') %>%
mutate_at(c('ID', 'block', 'plot', 'treatment', 'crop'), as.factor) %>%
mutate(date.time = lubridate::as_datetime(date.time,
format = "%m/%d/%Y %H:%M:%S")) %>%
mutate(date = lubridate::date(date.time)) %>%
mutate(year = lubridate::isoyear(ymd_hms(date.time))) %>%
mutate(week = lubridate::isoweek(ymd_hms(date.time))) %>%
mutate(month = lubridate::month(date.time)) %>%
mutate(study_yr = ifelse(year == "2023",1,
ifelse(year == "2024" & month < 5,1,
2)))
#data frame for the min, max, and average soil temp each day for each temp probe
soil_temp_day <- soil_temp %>%
group_by(ID, block, plot, treatment, crop, year, study_yr, month, week, date) %>%
summarize(day_max = max(temp_C, na.rm = TRUE),
day_min = min(temp_C, na.rm = TRUE),
day_avg = (day_max + day_min)/2,
tmp_dif = day_max - day_min) %>%
ungroup()
#average max, min, and mean soil temp for the day for each treatment
soil_temp_trt <- soil_temp_day %>%
group_by(treatment, year, week, month, study_yr, date) %>%
summarize(trt_avg_max = mean(day_max, na.rm = TRUE),
trt_avg_min = mean(day_min, na.rm = TRUE),
trt_avg = (trt_avg_max + trt_avg_min)/2,
trt_dif = trt_avg_max - trt_avg_min) %>%
ungroup()
# ALERT: there's a weird quirk in the first and last days of the year, where they are part of the week from a different year. So that's worth checking, either to see if there's a better function or to just remove those weirdo dates from the calculation
soil_temp_wk <- soil_temp_day %>%
group_by(treatment, year, study_yr, week) %>%
summarize(wk_avg_max = mean(day_max, na.rm = TRUE),
wk_avg_min = mean(day_min, na.rm = TRUE),
wk_avg = (wk_avg_max + wk_avg_min) /2) %>%
ungroup()
#min, max, and average soil temp for each month
soil_temp_month <- soil_temp_day %>%
group_by(treatment, year, study_yr, month) %>%
summarize(mon_avg_max = mean(day_max, na.rm = TRUE),
mon_avg_min = mean(day_min, na.rm = TRUE),
mon_avg = (mon_avg_max + mon_avg_min) / 2) %>%
ungroup()
#min, max, and average soil temp for May through October
soil_temp_season <- soil_temp_day %>%
subset(month > 4 & month < 11) %>%
group_by(treatment, year, study_yr) %>%
summarize(season_avg_max = mean(day_max, na.rm = TRUE),
season_avg_min = mean(day_min, na.rm = TRUE),
season_avg = (season_avg_max + season_avg_min) / 2) %>%
ungroup()
#check with Nic to see if changing trace precip to 0.001 in was appropriate
#creating month and week columns, limiting dataset to the years I'm interested in, changing units from standard to metric
temp_precip_day <- temp_precip %>%
rename(max_temp_F = Maximum.Temperature.degrees..F.,
min_temp_F = Minimum.Temperature.degrees..F.,
precip_in = Precipitation..inches.,
date = Date) %>%
mutate(date = lubridate::as_date(date, format = "%Y-%m-%d"),
year = as.numeric(lubridate::year(date))) %>%
mutate(month = lubridate::month(date),
week = lubridate::isoweek(ymd(date)),
precip_in = ifelse(precip_in == "T", 0.001, precip_in)) %>%
subset(year == "2023" | year == "2024" | (year == "2025" & month < 5)) %>%
mutate_at(c('max_temp_F', 'min_temp_F','precip_in'), as.numeric) %>%
mutate(max_temp_C = fahrenheit.to.celsius(max_temp_F, round = 2),
min_temp_C = fahrenheit.to.celsius(min_temp_F, round = 2),
precip_mm = convert_precip(precip_in, old_metric = "inches", new_metric = "mm", round = 2),
avg_temp_C = (max_temp_C + min_temp_C)/2) %>%
dplyr::select('date', 'year', 'month', 'week', 'max_temp_C', 'min_temp_C', 'avg_temp_C','precip_in', 'precip_mm')
# ALERT: there's a weird quirk in the first and last days of the year, where they are part of the week from a different year. So that's worth checking, either to see if there's a better function or to just remove those weirdo dates from the calculation
temp_wk <- temp_precip_day %>%
group_by(year, month, week) %>%
summarize(wk_avg_temp_max = mean(max_temp_C, na.rm = TRUE),
wk_avg_temp_min = mean(min_temp_C, na.rm = TRUE),
wk_avg_temp_C = (wk_avg_temp_max + wk_avg_temp_min) /2) %>%
ungroup()
#mean for the max, min, and average daily air temps each month
temp_mon <- temp_precip_day %>%
group_by(year, month) %>%
summarize(mon_avg_temp_max = mean(max_temp_C, na.rm = TRUE),
mon_avg_temp_min = mean(min_temp_C, na.rm = TRUE),
mon_avg_temp_C = (mon_avg_temp_max + mon_avg_temp_min) / 2) %>%
ungroup()
#mean for the max, min, and average daily air temps across the whole season
temp_season <- temp_precip_day %>%
subset(month > 4 & month < 11) %>%
group_by(year) %>%
summarize(season_avg_temp_max = mean(max_temp_C, na.rm = TRUE),
season_avg_temp_min = mean(min_temp_C, na.rm = TRUE),
season_avg_temp_C = (season_avg_temp_max + season_avg_temp_min) / 2) %>%
ungroup()
#mean for the max, min, and average daily air temp across the whole year
temp_yr <- temp_precip_day %>%
group_by(year) %>%
summarize(yr_avg_temp_max = mean(max_temp_C, na.rm = TRUE),
yr_avg_temp_min = mean(min_temp_C, na.rm = TRUE),
yr_avg_temp_C = (yr_avg_temp_max + yr_avg_temp_min) / 2) %>%
ungroup()
#creating columns for different time markers and for the type of irrigation
drip_irrigation <- drip_irrigation %>%
mutate(date = lubridate::as_date(date, format = "%m/%d/%Y"),
year = lubridate::isoyear(ymd(date)),
month = lubridate::month(date),
week = lubridate::isoweek(ymd(date)),
type = "drip") %>%
dplyr::select('date', 'year', 'month', 'week', 'type', 'irrigation_in')
#combining precipitation and drip irrigation into a single table
irrigation_day <- temp_precip_day %>%
mutate(type = "precip") %>%
rename(irrigation_in = precip_in) %>%
dplyr::select('date','year','month','week','type','irrigation_in') %>%
rbind(drip_irrigation)
#total water input by type each week
irrigation_wk <- irrigation_day %>%
group_by(year, month, week, type) %>%
summarize(irrigation_in = sum(irrigation_in)) %>%
ungroup()
#total water input by type each month
irrigation_mon <- irrigation_day %>%
group_by(year, month, type) %>%
summarize(irrigation_in = sum(irrigation_in)) %>%
ungroup()
#total water input by type for May through October
irrigation_season <- irrigation_day %>%
subset(month > 4 & month < 11) %>%
group_by(year, type) %>%
summarize(irrigation_in = sum(irrigation_in)) %>%
ungroup()
#total water input by type for the whole year
irrigation_yr <- irrigation_day %>%
group_by(year, type) %>%
summarize(irrigation_in = sum(irrigation_in)) %>%
ungroup()
#formatting data frame for soil moisture data from TDR
soil_vwc_full <- soil_vwc %>%
subset(block != "5") %>%
dplyr::select('sample_date', 'block','plot', 'treatment', 'crop',
'bed_location', 'vwc_percent', 'period', 'EC')  %>%
mutate(sample_date = lubridate::as_date(sample_date,
format = "%m/%d/%Y"),
year = lubridate::isoyear(ymd(sample_date)),
month = lubridate::month(sample_date),
week = lubridate::isoweek(ymd(sample_date)),
bed_location = ifelse(bed_location == "hose", "center", bed_location)) %>%
mutate_at(c('year', 'block', 'plot', 'treatment', 'crop', 'bed_location'),
as.factor)
#this data frame is only the measurements taken the day mulch was applied in 2023
soil_vwc_pre <- soil_vwc_full %>%
subset(sample_date < "2023-06-23")
#this data frame excludes the measurments taken the day mulch was applied in 2023
soil_vwc <- soil_vwc_full %>%
subset(sample_date > "2023-06-23")
#formatting data frame from continuous logger
soil_vwc_rt <- soil_vwc_rt %>%
mutate(date.time = lubridate::as_datetime(date.time,
format = "%m/%d/%Y %H:%M")) %>%
mutate(date = lubridate::date(date.time)) %>%
mutate(month = lubridate::month(date.time)) %>%
rename(BM = bare.soil,
CM = cardboard.mulch) %>%
pivot_longer(cols = c('BM', 'CM'),
names_to = 'treatment',
values_to = "vwc_percent") %>%
mutate(vwc_percent = as.numeric(gsub('%', '', vwc_percent))) %>%
drop_na(vwc_percent) %>%
subset(date != "2023-10-04") %>%
mutate_at('treatment' ,as.factor)
hist(soil_vwc$vwc_percent)
out_vwc <- subset(soil_vwc, vwc_percent > 50)
View(out_vwc)
hist(soil_vwc$vwc_percent)
out_vwc <- subset(soil_vwc, vwc_percent > 50)
soil_vwc$vwc_percent[soil_vwc$vwc_percent > 50] <- NA
hist(soil_vwc$vwc_percent)
#average soil moisture by treatment, crop, plot, edge/center, and date
soil_vwc_wk <- soil_vwc %>%
group_by(treatment, crop, block, plot, bed_location, sample_date, week, month, year) %>%
summarize(vwc_avg_wk = mean(vwc_percent, na.rm = TRUE)) %>%
ungroup()
#calculating the average soil moisture by treatment, crop, edge/center, and date
soil_vwc_wk_trt_crop <- soil_vwc %>%
group_by(treatment, crop, bed_location, sample_date, week, month, year) %>%
summarize(vwc_trt_avg_wk = mean(vwc_percent, na.rm = TRUE)) %>%
ungroup()
#average soil moisture by treatment, edge/center, and date (combines crops)
soil_vwc_wk_trt <- soil_vwc %>%
group_by(treatment, bed_location, sample_date, week, month, year) %>%
summarize(vwc_per_wk = mean(vwc_percent, na.rm = TRUE)) %>%
ungroup()
#average soil moisture by crop, edge/center, and date (combines treatments)
soil_vwc_wk_crop <- soil_vwc %>%
group_by(crop, bed_location, sample_date, week, month, year) %>%
summarize(vwc_per_wk = mean(vwc_percent, na.rm = TRUE)) %>%
ungroup()
#calculating the average soil moisture for difference in soil moisture between center and edge for each plot and day
soil_vwc_dif_plot <- soil_vwc_wk %>%
pivot_wider(names_from = bed_location,
values_from = vwc_avg_wk) %>%
mutate(vwc_plot = (center + edge)/2,
loc_dif = center - edge)
#calculating the treatment/crop average for difference in soil moisture between center and edge  for each day
soil_vwc_dif_trt_crop <- soil_vwc_dif_plot %>%
group_by(treatment, crop, sample_date, week, month, year) %>%
summarize(vwc_trt = mean(vwc_plot),
vwc_dif_trt_avg = mean(loc_dif, na.rm = TRUE)) %>%
ungroup()
ggplot(soil_vwc, aes(x = treatment, y = vwc_percent, fill = bed_location)) + geom_boxplot() + facet_grid(~crop) + ggtitle("Soil Moisture for Edge vs. Center of plot")
ggplot(soil_vwc, aes(x = crop, y = vwc_percent, fill = treatment)) + geom_boxplot() + facet_wrap(~year + bed_location) + ggtitle("Soil Moisture by Bed location and year")
ggplot(soil_vwc_dif_plot, aes(x = crop, y = loc_dif, fill = treatment)) + geom_boxplot() + facet_grid(~year)
ggplot() +
geom_point(data = subset(soil_vwc, bed_location == "center"), aes(x = week, y = vwc_percent, color = treatment), size = 0.75) +
geom_line(data = subset(soil_vwc_wk_trt_crop, bed_location == "center"), aes(x = week, y = vwc_trt_avg_wk, color = treatment)) +
facet_wrap(~year + crop)
ggplot() +
geom_point(data = subset(soil_vwc, bed_location == "edge"), aes(x = week, y = vwc_percent, color = treatment), size = 0.75) +
geom_line(data = subset(soil_vwc_wk_trt_crop, bed_location == "edge"), aes(x = week, y = vwc_trt_avg_wk, color = treatment)) +
facet_wrap(~year + crop)
ggplot(subset(soil_vwc, year == 2023), aes(x = as.factor(week), y = vwc_percent, fill = treatment)) + geom_boxplot() + facet_grid(~crop)
ggplot(subset(soil_vwc, year == 2024), aes(x = as.factor(week), y = vwc_percent, fill = treatment)) + geom_boxplot() + facet_grid(~crop)
hist(soil_vwc$vwc_percent)
skewness(soil_vwc$vwc_percent, na.rm = TRUE)
qqnorm(soil_vwc$vwc_percent, main='Normal')
qqline(soil_vwc$vwc_percent)
shapiro.test(soil_vwc$vwc_percent)
#boxcox
bc <- boxcox(lm(soil_vwc$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
soil_vwc$bc_vwc <- (soil_vwc$vwc_percent ^ lambda-1)/lambda
skewness(soil_vwc$bc_vwc, na.rm = TRUE)
hist(soil_vwc$bc_vwc)
qqnorm(soil_vwc$bc_vwc, main='Normal')
qqline(soil_vwc$bc_vwc)
shapiro.test(soil_vwc$bc_vwc)
#squared
soil_vwc$sq_vwc <- soil_vwc$vwc_percent^2
skewness(soil_vwc$sq_vwc, na.rm = TRUE)
hist(soil_vwc$sq_vwc)
qqnorm(soil_vwc$sq_vwc, main='Normal')
qqline(soil_vwc$sq_vwc)
shapiro.test(soil_vwc$sq_vwc)
soil_vwc_23 <- subset(soil_vwc, year == "2023")
#original dataset
hist(soil_vwc_23$vwc_percent)
skewness(soil_vwc_23$vwc_percent, na.rm = TRUE)
qqnorm(soil_vwc_23$vwc_percent, main='Normal')
qqline(soil_vwc_23$vwc_percent)
shapiro.test(soil_vwc_23$vwc_percent)
#boxcox
bc <- boxcox(lm(soil_vwc_23$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
soil_vwc_23$bc_vwc <- (soil_vwc_23$vwc_percent ^ lambda-1)/lambda
skewness(soil_vwc_23$bc_vwc, na.rm = TRUE)
hist(soil_vwc_23$bc_vwc)
qqnorm(soil_vwc_23$bc_vwc, main='Normal')
qqline(soil_vwc_23$bc_vwc)
shapiro.test(soil_vwc_23$bc_vwc)
soil_vwc_24 <- subset(soil_vwc, year == "2024")
#original dataset
hist(soil_vwc_24$vwc_percent)
skewness(soil_vwc_24$vwc_percent, na.rm = TRUE)
qqnorm(soil_vwc_24$vwc_percent, main='Normal')
qqline(soil_vwc_24$vwc_percent)
shapiro.test(soil_vwc_24$vwc_percent)
#boxcox
bc <- boxcox(lm(soil_vwc_24$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
soil_vwc_24$bc_vwc <- (soil_vwc_24$vwc_percent ^ lambda-1)/lambda
skewness(soil_vwc_24$bc_vwc, na.rm = TRUE)
hist(soil_vwc_24$bc_vwc)
qqnorm(soil_vwc_24$bc_vwc, main='Normal')
qqline(soil_vwc_24$bc_vwc)
shapiro.test(soil_vwc_24$bc_vwc)
#squared
soil_vwc_24$sq_vwc <- soil_vwc_24$vwc_percent^2
skewness(soil_vwc_24$sq_vwc, na.rm = TRUE)
hist(soil_vwc_24$sq_vwc)
qqnorm(soil_vwc_24$sq_vwc, main='Normal')
qqline(soil_vwc_24$sq_vwc)
shapiro.test(soil_vwc_24$sq_vwc)
center_vwc <- subset(soil_vwc, bed_location == "center")
#original dataset
hist(center_vwc$vwc_percent)
skewness(center_vwc$vwc_percent, na.rm = TRUE)
qqnorm(center_vwc$vwc_percent, main='Normal')
qqline(center_vwc$vwc_percent)
shapiro.test(center_vwc$vwc_percent)
#boxcox
bc <- boxcox(lm(center_vwc$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
center_vwc$bc_vwc <- (center_vwc$vwc_percent ^ lambda-1)/lambda
skewness(center_vwc$bc_vwc, na.rm = TRUE)
hist(center_vwc$bc_vwc)
qqnorm(center_vwc$bc_vwc, main='Normal')
qqline(center_vwc$bc_vwc)
shapiro.test(center_vwc$bc_vwc)
#squared
center_vwc$sq_vwc <- center_vwc$vwc_percent^2
skewness(center_vwc$sq_vwc, na.rm = TRUE)
hist(center_vwc$sq_vwc)
qqnorm(center_vwc$sq_vwc, main='Normal')
qqline(center_vwc$sq_vwc)
shapiro.test(center_vwc$sq_vwc)
center_vwc_23 <- subset(center_vwc, year == "2023")
#original dataset
hist(center_vwc_23$vwc_percent)
skewness(center_vwc_23$vwc_percent, na.rm = TRUE)
qqnorm(center_vwc_23$vwc_percent, main='Normal')
qqline(center_vwc_23$vwc_percent)
shapiro.test(center_vwc_23$vwc_percent)
#boxcox
bc <- boxcox(lm(center_vwc_23$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
center_vwc_23$bc_vwc <- (center_vwc_23$vwc_percent ^ lambda-1)/lambda
skewness(center_vwc_23$bc_vwc, na.rm = TRUE)
hist(center_vwc_23$bc_vwc)
qqnorm(center_vwc_23$bc_vwc, main='Normal')
qqline(center_vwc_23$bc_vwc)
shapiro.test(center_vwc_23$bc_vwc)
#squared
center_vwc_23$sq_vwc <- center_vwc_23$vwc_percent^2
skewness(center_vwc_23$sq_vwc, na.rm = TRUE)
hist(center_vwc_23$sq_vwc)
qqnorm(center_vwc_23$sq_vwc, main='Normal')
qqline(center_vwc_23$sq_vwc)
shapiro.test(center_vwc_23$sq_vwc)
center_vwc_24 <- subset(center_vwc, year == "2024")
#original dataset
hist(center_vwc_24$vwc_percent)
skewness(center_vwc_24$vwc_percent, na.rm = TRUE)
qqnorm(center_vwc_24$vwc_percent, main='Normal')
qqline(center_vwc_24$vwc_percent)
shapiro.test(center_vwc_24$vwc_percent)
#boxcox
bc <- boxcox(lm(center_vwc_24$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
center_vwc_24$bc_vwc <- (center_vwc_24$vwc_percent ^ lambda-1)/lambda
skewness(center_vwc_24$bc_vwc, na.rm = TRUE)
hist(center_vwc_24$bc_vwc)
qqnorm(center_vwc_24$bc_vwc, main='Normal')
qqline(center_vwc_24$bc_vwc)
shapiro.test(center_vwc_24$bc_vwc)
#squared
center_vwc_24$sq_vwc <- center_vwc_24$vwc_percent^2
skewness(center_vwc_24$sq_vwc, na.rm = TRUE)
hist(center_vwc_24$sq_vwc)
qqnorm(center_vwc_24$sq_vwc, main='Normal')
qqline(center_vwc_24$sq_vwc)
shapiro.test(center_vwc_24$sq_vwc)
edge_vwc <- subset(soil_vwc, bed_location == "edge")
#original dataset
hist(edge_vwc$vwc_percent)
skewness(edge_vwc$vwc_percent, na.rm = TRUE)
qqnorm(edge_vwc$vwc_percent, main='Normal')
qqline(edge_vwc$vwc_percent)
shapiro.test(edge_vwc$vwc_percent)
#boxcox
bc <- boxcox(lm(edge_vwc$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
edge_vwc$bc_vwc <- (edge_vwc$vwc_percent ^ lambda-1)/lambda
skewness(edge_vwc$bc_vwc, na.rm = TRUE)
hist(edge_vwc$bc_vwc)
qqnorm(edge_vwc$bc_vwc, main='Normal')
qqline(edge_vwc$bc_vwc)
shapiro.test(edge_vwc$bc_vwc)
edge_vwc_23 <- subset(edge_vwc, year == "2023")
#original dataset
hist(edge_vwc_23$vwc_percent)
skewness(edge_vwc_23$vwc_percent, na.rm = TRUE)
qqnorm(edge_vwc_23$vwc_percent, main='Normal')
qqline(edge_vwc_23$vwc_percent)
shapiro.test(edge_vwc_23$vwc_percent)
#boxcox
bc <- boxcox(lm(edge_vwc_23$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
edge_vwc_23$bc_vwc <- (edge_vwc_23$vwc_percent ^ lambda-1)/lambda
skewness(edge_vwc_23$bc_vwc, na.rm = TRUE)
hist(edge_vwc_23$bc_vwc)
qqnorm(edge_vwc_23$bc_vwc, main='Normal')
qqline(edge_vwc_23$bc_vwc)
shapiro.test(edge_vwc_23$bc_vwc)
#log
edge_vwc_23$log_vwc <- log(edge_vwc_23$vwc_percent)
skewness(edge_vwc_23$log_vwc, na.rm = TRUE)
hist(edge_vwc_23$log_vwc)
qqnorm(edge_vwc_23$log_vwc, main='Normal')
qqline(edge_vwc_23$log_vwc)
shapiro.test(edge_vwc_23$log_vwc)
edge_vwc_24 <- subset(edge_vwc, year == "2024")
#original dataset
hist(edge_vwc_24$vwc_percent)
skewness(edge_vwc_24$vwc_percent, na.rm = TRUE)
qqnorm(edge_vwc_24$vwc_percent, main='Normal')
qqline(edge_vwc_24$vwc_percent)
shapiro.test(edge_vwc_24$vwc_percent)
#boxcox
bc <- boxcox(lm(edge_vwc_24$vwc_percent ~ 1))
lambda <- bc$x[which.max(bc$y)]
edge_vwc_24$bc_vwc <- (edge_vwc_24$vwc_percent ^ lambda-1)/lambda
skewness(edge_vwc_24$bc_vwc, na.rm = TRUE)
hist(edge_vwc_24$bc_vwc)
qqnorm(edge_vwc_24$bc_vwc, main='Normal')
qqline(edge_vwc_24$bc_vwc)
shapiro.test(edge_vwc_24$bc_vwc)
#squared
edge_vwc_24$sq_vwc <- edge_vwc_24$vwc_percent^2
skewness(edge_vwc_24$sq_vwc, na.rm = TRUE)
hist(edge_vwc_24$sq_vwc)
qqnorm(edge_vwc_24$sq_vwc, main='Normal')
qqline(edge_vwc_24$sq_vwc)
shapiro.test(edge_vwc_24$sq_vwc)
model <- aov(vwc_percent ~ treatment*crop*year, soil_vwc)
AIC(model)
summary(model)
TukeyHSD(model)
plot(model)
kruskal.test(vwc_percent~treatment, data = soil_vwc)
dunnTest(vwc_percent~treatment, data = soil_vwc)
kruskal.test(vwc_percent~crop, data = soil_vwc)
dunnTest(vwc_percent~crop, data = soil_vwc)
kruskal.test(vwc_percent~year, data = soil_vwc)
kruskal.test(vwc_percent~year, data = subset(soil_vwc, crop == "AS"))
kruskal.test(vwc_percent~year, data = subset(soil_vwc, crop == "DB"))
kruskal.test(vwc_percent~year, data = subset(soil_vwc, crop == "FC"))
model <- lmer(vwc_percent ~ crop + (1 | sample_date/block), data = soil_vwc)
AIC(model)
summary(model)
#extract random effects and residual values
re <- ranef(model)
resid <- augment(model)
#generate qqplot
plot(re)
#generate plot of fitted vs. residual values
ggplot(resid, aes(x = .fitted, y = .resid)) + geom_point() + stat_smooth(se = F)
#ranked likelihood test
ranova(model)
emmeans(model, pairwise ~ crop)
emmeans(model, pairwise ~ treatment)
model <- lmer(vwc_percent ~ treatment*crop + (1 | sample_date/block), data = soil_vwc)
AIC(model)
summary(model)
#extract random effects and residual values
re <- ranef(model)
resid <- augment(model)
#generate qqplot
plot(re)
#generate plot of fitted vs. residual values
ggplot(resid, aes(x = .fitted, y = .resid)) + geom_point() + stat_smooth(se = F)
#ranked likelihood test
ranova(model)
emmeans(model, pairwise ~ treatment)
kruskal.test(vwc_percent~treatment, data = soil_vwc_23)
dunnTest(vwc_percent~treatment, data = soil_vwc_23)
kruskal.test(vwc_percent~crop, data = soil_vwc_23)
dunnTest(vwc_percent~crop, data = soil_vwc_23)
kruskal.test(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "AS"))
dunnTest(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "AS"))
kruskal.test(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "DB"))
dunnTest(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "DB"))
kruskal.test(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "FC"))
dunnTest(vwc_percent~treatment, data = subset(soil_vwc_23, crop == "FC"))
kruskal.test(vwc_percent~treatment, data = center_vwc)
dunnTest(vwc_percent~treatment, data = center_vwc)
kruskal.test(vwc_percent~crop, data = center_vwc)
dunnTest(vwc_percent~crop, data = center_vwc)
kruskal.test(vwc_percent~year, data = center_vwc)
kruskal.test(vwc_percent~year, data = subset(center_vwc, crop == "AS"))
kruskal.test(vwc_percent~year, data = subset(center_vwc, crop == "DB"))
kruskal.test(vwc_percent~year, data = subset(center_vwc, crop == "FC"))
kruskal.test(vwc_percent~treatment, data = center_vwc_23)
dunnTest(vwc_percent~treatment, data = center_vwc_23)
kruskal.test(vwc_percent~crop, data = center_vwc_23)
dunnTest(vwc_percent~crop, data = center_vwc_23)
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "AS"))
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "DB"))
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "FC"))
kruskal.test(vwc_percent~crop, data = subset(center_vwc_23, treatment == "BM"))
dunnTest(vwc_percent~crop, data = subset(center_vwc_23, treatment == "BM"))
kruskal.test(vwc_percent~crop, data = subset(center_vwc_23, treatment == "SM"))
dunnTest(vwc_percent~crop, data = subset(center_vwc_23, treatment == "SM"))
kruskal.test(vwc_percent~crop, data = subset(center_vwc_23, treatment == "CM"))
dunnTest(vwc_percent~crop, data = subset(center_vwc_23, treatment == "CM"))
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "AS"))
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "DB"))
kruskal.test(vwc_percent~treatment, data = subset(center_vwc_23, crop == "FC"))
